-- Charger la bibliothèque
local GoldoCheatLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/goldo9999/NewCheat/refs/heads/main/library.lua')))()

-- Notification de bienvenue
GoldoCheatLib:MakeNotification({
    Name = "Bienvenue!",
    Content = "Bienvenue sur GoldoCheat!",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- Créer la fenêtre principale
local Window = GoldoCheatLib:MakeWindow({
    Name = "GoldoCheat",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "GoldoCheat"
})

-- Ajouter un onglet Main
local JailTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998"
})

-- Ajouter une section Jail
local JailSection = JailTab:AddSection({
    Name = "Jail Actions"
})

-- Ajouter un bouton "Jail All (avoir des menottes)"
JailSection:AddButton({
    Name = "Jail All (avoir des menottes)",
    Callback = function()
        local teamName = "Classe-D"
        local teamColor = BrickColor.new("Really red") -- Couleur locale pour l'équipe

        -- Fonction pour assigner tous les joueurs à la team "Classe-D" localement
        local function assignAllToClassD()
            local players = game:GetService("Players")
            local teamsService = game:GetService("Teams")
            
            -- Vérifie si la team "Classe-D" existe, sinon la crée localement
            local classDTeam = teamsService:FindFirstChild(teamName)
            if not classDTeam then
                classDTeam = Instance.new("Team")
                classDTeam.Name = teamName
                classDTeam.TeamColor = teamColor
                classDTeam.Parent = teamsService
            end

            -- Parcourt tous les joueurs et les assigne à la team localement
            for _, player in pairs(players:GetPlayers()) do
                if player and player.Team ~= classDTeam then
                    player.Team = classDTeam
                end
            end

            print("Tous les joueurs sont maintenant dans l'équipe '" .. teamName .. "' localement.")
        end

        -- Exécute la fonction
        assignAllToClassD()

        -- Exécute le script pour geler les joueurs
        local players = game:GetService("Players")
        local freezeEvent = game:GetService("ReplicatedStorage").ArrestSystem:FindFirstChild("FreezeUser")

        if not freezeEvent then
            warn("L'événement 'FreezeUser' est introuvable dans ReplicatedStorage.")
            return
        end

        for _, player in pairs(players:GetPlayers()) do
            if player.Character then
                local success, errorMessage = pcall(function()
                    local args = {
                        [1] = player.Character
                    }
                    freezeEvent:FireServer(unpack(args))
                end)

                if success then
                    print("Joueur gelé avec succès : " .. player.Name)
                else
                    warn("Erreur lors du gel du joueur " .. player.Name .. " : " .. errorMessage)
                end
            else
                warn("Le joueur " .. player.Name .. " n'a pas de personnage actif.")
            end
        end
    end
})

-- Ajouter une section Give
local GiveSection = JailTab:AddSection({
    Name = "Give Items"
})

-- Ajouter un bouton pour donner l'AK-47
GiveSection:AddButton({
    Name = "Give AK-47",
    Callback = function()
        local args = {
            [1] = 0,
            [2] = "AK-47"
        }

        game:GetService("ReplicatedStorage").buyEvent:FireServer(unpack(args))

        GoldoCheatLib:MakeNotification({
            Name = "Item donné",
            Content = "Vous avez reçu une AK-47!",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

-- Ajouter un bouton pour donner l'USP
GiveSection:AddButton({
    Name = "Give USP",
    Callback = function()
        local args = {
            [1] = 0,
            [2] = "USP"
        }

        game:GetService("ReplicatedStorage").buyEvent:FireServer(unpack(args))

        GoldoCheatLib:MakeNotification({
            Name = "Item donné",
            Content = "Vous avez reçu un USP!",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

-- Ajouter un bouton pour donner la Carte-L2
GiveSection:AddButton({
    Name = "Give Carte-L2",
    Callback = function()
        local args = {
            [1] = 0,
            [2] = "[SCP] Card-L2"
        }

        game:GetService("ReplicatedStorage").buyEvent:FireServer(unpack(args))

        GoldoCheatLib:MakeNotification({
            Name = "Item donné",
            Content = "Vous avez reçu une Carte-L2!",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

-- Initialiser l'interface
GoldoCheatLib:Init()
